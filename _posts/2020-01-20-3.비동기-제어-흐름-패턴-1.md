---
layout: post
title: "6. Node.js Design Pattern Async Programming with Callback"
date: 2020-01-17
excerpt: "Node.js Design Pattern 책 3강 정리 - 1"
tags: [Development, Node.js, Async]
comments: true
---

동기식 프로그래밍 스타일을 사용하다가 Node.js와 같이 연속 전달 스타일과 비동기 API가 일반적으로 사용되는 플랫폼에 적응하는 것은 쉽지 않을 수 있다.
비동기 코드를 작성하는 것은 다른 경험일 수 있는데, 특히 제어 흐름(control flow)에 있어서는 더욱 그렇다.

비동기 코드로 인해 Node.js 어플리케이션 내에서 명령문이 실행되는 순서를 예측하기가 어려울 수 있다.
일련의 파일들을 반복 탐색하거나, 작업을 순서대로 실행하거나 일련의 작업이 완료될 때까지 기다리는 것 같은 간단한 문제에서도 개발자에게는 비효율적이고 가독성이 떨어지는 코드의 작성을 피할 수 있는 새로운 접근법과 기술이 필요하다.

일반적인 실수 중 하나는 콜백 헬(callback hell) 문제의 함정에 빠져서 중첩으로 인해 간단한 루틴 조차도 가독성을 떨어뜨리고 관리하기 힘들게 만들어 코드가 세로가 아닌 가로로 늘어나느 현상을 보인다는 것이다.

이 장에서는 몇 가지 규칙과 패턴을 사용하여 실제로 어떻게 콜백을 능숙하게 제어하며, 깨끗하고 관리 가능한 비동기 코드를 작성할 수 있는지 살펴볼 것이다.

Async와 같은 제어 흐름(control flow) 라이브러리가 어떻게 문제를 단순화하여 코드를 훨씬 더 읽기 쉽고 유지 보수하기 쉽게 만드는지도 살펴 보게 될 것이다.

---

### 비동기 프로그래밍의 어려움

JavaScript에서 비동기 코드의 제어를 놓치는 일은 흔하게 일어난다.
익명 함수의 클로저와 인플레이스 정의(in place definitions)는 개발자가 이 함수, 저 함수로 옮겨 다닐 필요 없이 원활하게 프로그래밍을 할 수 있게 해준다.
