---
layout: post
title: "3. Node.js Design Pattern Callback Pattern"
date: 2020-01-14
excerpt: "Node.js Design Pattern 책 2강 정리 - 1"
tags: [Development, Node.js, CallbackPattern]
comments: true
---

비동기식 프로그래밍은 파일 읽기 또는 네트워크 요청 수행과 같은 일부 작업을 백그라운드 작업으로 실행할 수 있다. 
비동기 작업이 호출되면 이전 작업이 아직 완료되지 않은 경우에도 다음 작업이 즉시 실행된다.
백그라운드에서 보류 중인 작업은 언제든지 완료될 수 있으며, 비동기 호출이 완료되면 적절한 방식으로 반응하도록 전체 어플리케이션을 프로그래밍 해야 한다.

비동기식 프로그래밍은 복잡한 제어 흐름이 필요한 고급 어플리케이션을 다룰 때는 추적이나 다루기가 어려울 수 있다.

오늘은 가장 중요한 두가지 비동기 패턴 중 하나인 콜백(callback)을 볼 것이다.

## 콜백 패턴

콜백은 리액터 패턴의 핸들러를 구현한 것이다.
또 Node.js에 독특한 프로그래밍 스타일을 제공하는 상징 중 하나이다.
콜백은 작업 결과를 전달하기 위해 호출되는 함수이며, 비동기 작업을 처리할 때 반드시 필요하다.
__이들은 항상 동기적으로 실행되는 return 명령의 사용을 대신한다.__
JavaScript는 __함수__ 나 __클로저__ 로 콜백을 표현한다.
JavaScript가 콜백을 효율적으로 표현할 수 있는 언어인 이유는 다음과 같다.

- 함수가 __일급 객체__ 여서 변수에 쉽게 할당하거나, 인수로 전달되거나, 다른 함수 호출에서 반환되거나 자료구조에 저장될 수 있다.
- 클로저는 실제로 함수가 작성된 환경을 참조하기 때문에, 콜백이 언제 어디서 호출되는 지에 관계없이 비동기 작업이 요청된 __컨텍스트__ 를 항상 유지 가능하다.

> 일급 객체, 클로저 개념 추후 추가 

여기서는 return 명령을 대신하여 콜백으로 이루어진 프로그래밍 스타일을 분석해본다.

---

### 연속 전달 방식(The Continuation-Passing Style)
