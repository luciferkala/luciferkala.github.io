---
layout: post
title: "2. Node.js Design Pattern Reactor Pattern"
date: 2020-01-13
excerpt: "Node.js Design Pattern 책 1강 정리 - 2"
tags: [Node.js, ReactorPattern, ECMA2015]
comments: true
---

## Reactor 패턴

Node.js의 비동기 핵심 패턴은 Reactor 패턴으로 동작한다.
단일 스레드 아키텍처 와 논 블로킹 I/O와 같은 패턴의 기본개념을 정리하고, 이 개념을 바탕으로 Node.js의 기반을 형성하는 방법을 본다.

## I/O

I/O는 컴퓨터의 기본적인 동작 중에서 가장 느리다.

### 블로킹 I/O

전통적인 블로킹 I/O 프로그래밍에서는 I/O 요청에 해당하는 함수 호출은 작업이 완료될 때까지 스레드의 실행이 차단된다.
```c
// 데이터를 사용할 수 있을 때까지 스레드가 블록됨.
data = socket.read();
// 데이터 사용 가능
print(data);
```

블로킹 I/O를 사용하여 구현된 웹 서버는 동일한 스레드에서 여러 연결을 처리할 수 없다.
각 소켓에서의 모든 I/O 작업이 다른 연결 처리를 차단할 것이기 때문이다.
따라서, 웹 서버에서 동시성을 처리하기 위한 전통적인 접근 방식은 다음과 같다.

- 각각의 동시 연결에 대해 새로운 스레드 또는 프로세스 시작
- 풀에서 가져온 스레드 재사용

이렇게 하면 스레드가 I/O 작업으로 차단되어도 분리된 스레드에서 처리되므로 다른 요청의 가용성에는 영향을 미치지 않는다.
