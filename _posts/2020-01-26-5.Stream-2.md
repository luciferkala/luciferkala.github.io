---
layout: post
title: "13. Node.js Design Pattern - Stream - Start Stream"
date: 2020-01-26
excerpt: "Node.js Design Pattern 책 5강 정리 - 2"
tags: [Development, Node.js, Stream, JavaScript, ECMA2015]
comments: true
---

## 스트림 시작하기

Node.js의 핵심 모듈을 비롯한 모든 곳에서는 스트림을 사용한다.
이제 스트림을 더 자세히 알아보자

### 스트림의 구조

Node.js에서 모든 스트림은 스트림의 코어 모듈에서 사용할 수 있는 네 가지 추상 클래스 중 하나의 구현체이다.

-   stream.Readable
-   stream.Writable
-   stream.Duplex
-   stream.Transform

각 스트림 클래스는 EventEmitter의 인스턴스이기도 하다. 실제로 스트림은 Readable 스트림에서 읽기가 끝났을 때 발생하는 end, 무엇인가 잘못되었을 때 발생하는 error와 같은 여러 가지 유형의 이벤트를 제공한다.

> 간략하게 하기 위해 예제에서는 적절한 오류관리를 생략하는 경우가 많다.
> 그러나 상용 프로그램에서는 항상 모든 스트림에 대한 오류 이벤트 수신기를 등록하는 것이 좋다.

**스트림이 매우 유연한 이유 중 하나는 바이너리 데이터를 처리할 뿐만 아니라 거의 모든 JavaScript의 값을 처리할 수 있다는 것이다.**
실제로 두 가지 동작 모드를 지원할 수 있다.

-   바이너리 모드 : 이 모드는 데이터가 버퍼 또는 문자열과 같은 덩어리(chunk) 형태로 스트리밍되는 모드이다.
-   객체 모드 : 이 모드는 스트리밍 데이터가 일련의 별도 객체들로 취급되는 것이다(거의 모든 JavaScript 값을 사용할 수 있다).

이 두가지 동작 모드를 사용하면 I/O 뿐만 아니라 처리 단위를 기능 단위로 우아하게 구성할 수 있다.

---

### Readable 스트림
